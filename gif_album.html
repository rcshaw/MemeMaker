<!DOCTYPE HTML>
<html>
<head>
<title>MemeMaster | Home</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel='shortcut icon' type='image/x-icon' href='style/favicon.ico' />
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600' rel='stylesheet' type='text/css'>
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
<!--  jquery plguin -->
<script type="text/javascript" src="js/jquery.min.js"></script>
<script src="http://yui.yahooapis.com/3.6.0/build/yui/yui-min.js"></script>
<script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.0.19.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js">
        <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
</script>
<!-- start gallery -->
	<script type="text/javascript" src="js/jquery.easing.min.js"></script>	
	<script type="text/javascript" src="js/jquery.mixitup.min.js"></script>
    
    
    <script>
	
    
        
	function loc(){
		var url = window.location.search;
		url = url.replace("?", ''); // remove the ?
		//alert(url); 
		document.getElementById("folder").innerHTML = url;
        renderImage();
		}
        
        /*
    $(document).on("load", ".popup-with-zoom-anim", function() {
        //   console.log("inside";   <-- here it is
        $('#small-dialog').get(0).scrollIntoView(); 
        $('#small-dialog').load("gif_album.html");
       // $('#small-dialog').css("z-index", 99999);
        //window.open("folders_page.html");
        //$('#small-dialog').css({"display":"inline"});
    //    $('.mfp-hide').css({"display":"inline"});
      //  $('.mfp-hide').css({"z-index":"-5"});
    //    $('..mfp-content').css({"display":"inline-block"});
       // alert("gif_album.html"); 
        
        
    });
        */
        
        

        
    //do pic rendering here
    function renderImage(){
        Parse.initialize("k9fWbqwB7anOSJhUZJcIF5aDOXC5wRVQc87hGKyu", "cgwRZNr1X58BKbTv49oOhLIABJedodfAwFWHO1QY");   
        //alert("hello");
        var Image = Parse.Object.extend("ImageItem");
        var query = new Parse.Query(Image);
        query.equalTo("imgFolder", "Home Folder");
        query.find({
        success: function(results) {
        //alert("Successfully retrieved " + results.length + " scores.");
        // Do something with the returned Parse.Object values
        for (var i = 0; i < results.length; i++) { 
          var object = results[i];

           $("#portfoliolist").append("<a class=\"popup-with-zoom-anim\"><div class=\"portfolio card draggable\" data-cat=\"card\"><div class=\"portfolio-wrapper\"><img src=\"" + object.get('imgUrl') + "\" alt=\"Image 2\" title=\"Image\" /><div class=\"label\"><div class=\"label-text\"><p class=\"text-title\">" + object.get('imgTitle') +"</p></div></div></div></div></a>");
        } //for loop    
      },
      error: function(error) {
        alert("Error: " + error.code + " " + error.message);
      }    
    });
    } //renderImage function
    
        
	</script>
    
	<script type="text/javascript">
	$(function () {
		
		var filterList = {
		
			init: function () {
			
				// MixItUp plugin
				// http://mixitup.io
				$('#portfoliolist').mixitup({
					targetSelector: '.portfolio',
					filterSelector: '.filter',
					effects: ['fade'],
					easing: 'snap',
					// call the hover effect
					onMixEnd: filterList.hoverEffect()
				});		
			
			},
			
			hoverEffect: function () {
			
				// Simple parallax effect
				$('#portfoliolist .portfolio').hover(
					function () {
						$(this).find('.label').stop().animate({bottom: 0}, 200, 'easeOutQuad');
						$(this).find('img').stop().animate({top: -30}, 500, 'easeOutQuad');				
					},
					function () {
						$(this).find('.label').stop().animate({bottom: -40}, 200, 'easeInQuad');
						$(this).find('img').stop().animate({top: 0}, 300, 'easeOutQuad');								
					}		
				);				
			
			}

		};
		
		// Run the show!
		filterList.init();
			
	});	
	</script>
<!-- Add fancyBox main JS and CSS files -->
<link href="css/magnific-popup.css" rel="stylesheet" type="text/css">
<script src="js/jquery.magnific-popup.js" type="text/javascript"></script>
		<script>
			$(document).ready(function() {
				$('.popup-with-zoom-anim').magnificPopup({
					type: 'inline',
					fixedContentPos: false,
					fixedBgPos: true,
					overflowY: 'auto',
					closeBtnInside: true,
					preloader: false,
					midClick: true,
					removalDelay: 300,
					mainClass: 'my-mfp-zoom-in'
			});
		});
		</script>

</head>
<body onload="loc()">
<!-- start header -->
<div class="header_bg">
<div class="wrap">
	<div class="header">
		<div class="logo">
			<a href="index.html"><img src="images/meme_logo.png"  alt=""/></a>
		</div>
		
		<img src="images/monkey.gif" height="50" width="50" alt="monkey mascot." style="padding-left:-4%" title="image-name">
		
		<div class="h_right">
			<ul class="menu">
				<li class="active"><a href="folders_page.html">home</a></li>
				<li><a href="about.html">create</a></li>
				<li><a href="portfolio.html">upload</a></li>
				<li><a>chrome extension</a></li>
				<li><a href="teampage.html">team page</a></li>
				<li><a href="index.html">logout</a></li>
			</ul>
			<div id="sb-search" class="sb-search">
				<form action="search.html">
					<input class="sb-search-input" placeholder="Search by tag, name, folder..." type="text" value="" name="search" id="search">
					<input class="sb-search-submit" onclick="test()" type="submit" value="">
					<span class="sb-icon-search"></span>
				</form>
			</div>
			<script src="js/classie.js"></script>
			<script src="js/uisearch.js"></script>
			<script>
				new UISearch( document.getElementById( 'sb-search' ) );
			</script>
			<!-- start smart_nav * -->
	        <nav class="nav">
	            <ul class="nav-list">
	                <li class="nav-item"><a href="index.html">Home</a></li>
	                <li class="nav-item"><a href="about.html">About</a></li>
	                <li class="nav-item"><a href="portfolio.html">Portfolio</a></li>
	            </ul>
	        </nav>
	        <script type="text/javascript" src="js/responsive.menu.js"></script>
			<!-- end smart_nav * -->
		</div>
		<div class="clear"></div>
	</div>
	<div class="header_btm">
		<div class="h_left" style="margin-top:-81px;">
			<h2>GIFs, Memes, Made Manegable</h2>
			<h3>So simple, we've trained our monkey to use it</h3>
		</div>
		<div class="clear"></div>
	</div>
</div>
</div>
<!-- start main -->
<div class="main_bg">
<div class="wrap">
	<div class="main">
        <ul class = "loc" style="color:white">
			<li style="display:inline"> <a href="folders_page.html">Home </a> </li>
			<li style = "display:inline; color=white"> -> </li>
			<li style="display:inline"> <div id= "folder" style="display:inline">  </div>  </li>
		</ul>
        
		<!-- start popup -->
		<div id="small-dialog" class="mfp-hide">
			<div class="pop_up">
                <div>
                    <label>Title</label>
                    <input id="image-title" type="text" class="textbox">
                </div>
                <div>
                    <label>URL</label>
                    <input id="img-url" name="img-url" type="text" class="textbox">
                </div>
			<div class="contact">							
				<div class="contact_left">
				<div class="contact-form">
					<div>
						<span>
							<img src="images/monkey.gif" alt="monkey">
						</span>
					</div>
				   </div>
				  
				</div>
				<div class="contact_right">
					<div class="contact-form">
                            <div>
                                <label>Rating</label>
                                <span class="star-rating">
                                    <input type="radio" id="ratings" name="ratings" value="1"><span></span>
                                    <input type="radio" id="ratings" name="ratings" value="2"><span></span>
                                    <input type="radio" id="ratings" name="ratings" value="3"><span></span>
                                    <input type="radio" id="ratings" name="ratings" value="4"><span></span>
                                    <input type="radio" id="ratings" name="ratings" value="5"><span></span>
                                </span>
                            </div>
                        
                            <div>
                                <label>Folder</label>
                                <select id="folder-list">
                                    <option id="folder-filler">Choose Folder</option>
                                </select>
                            </div>
                        
						    <div>
						     	<label>Tags</label>
						    	<input id="tag" type="text" class="textbox">
						    </div>
							
						    <div>
						    	<label>Comments</label>
						    	<textarea id="comments" type="text" name="comments"> </textarea>
						    </div>
				    </div>
  				</div>	
				<div class="contact-form">
					<span><input type="submit" value="delete" style="background:#F51100" ></span>
					<span><input id="list-item-submit" type="button" value="save" style="float: left;" onclick="location.href = 'gif_album.html';"></span>
				</div>
				<div class="clear"></div>		

			</div>
			</div>
		</div>
		<!-- end popup -->
		
		
		
		<!-- start gallery  -->
			<div class="container">
				
		<div id="portfoliolist"><!-- 1 -->

            
				<div class="portfolio logo1" data-cat="logo">
					<div class="portfolio-wrapper">				
							<a href="portfolio.html"><img  src="images/add.png" alt="add pic"/></a>
						<div class="label">

							<div class="label-bg"></div>
						</div>
					</div>
				</div>	
            <!--
            <div class="portfolio logo1" data-cat="logo">
					<div class="portfolio-wrapper">				
					  <a href="#" onclick="return false;" id="add_item">+</a>
						<div class="label">
							<div class="label-text">
								<p class="text-title">Add Image or Folder</p>
							</div>
							<div class="label-bg"></div>
						</div>
					</div>
            </div>		-->

			<a class="popup-with-zoom-anim" href="#small-dialog" >
				<div class="portfolio web" data-cat="web">
					<div class="portfolio-wrapper">						
							<img src="http://i.imgur.com/kovjvcU.png"  alt="Image 2" height="154" width="270"/>
						<div class="label">
							<div class="label-text">
								<p class="text-title">Cute Puffin!</p>
							</div>
							<div class="label-bg"></div>
						</div>
					</div>
				</div>				
			</a> <!-- 4 -->
			<a class="popup-with-zoom-anim" href="#small-dialog">
				<div class="portfolio card" data-cat="card">
					<div class="portfolio-wrapper">			
							<img src="http://i.imgur.com/YVf3376.png"  alt="Image 2" height="154" width="270" />
						<div class="label">
							<div class="label-text">
								<p class="text-title">Penguin</p>
							</div>
							<div class="label-bg"></div>
						</div>
					</div>
				</div>	
			</a> <!-- 5 -->
			<a class="popup-with-zoom-anim" href="#small-dialog">	
				<div class="portfolio app" data-cat="app">
					<div class="portfolio-wrapper">
							<img src="http://www.dumpaday.com/wp-content/uploads/2011/12/funny-meme-pictures.jpg"  alt="Image 2" height="154" width="270" />
						<div class="label">
							<div class="label-text">
								<p class="text-title">Title</p>
							</div>
							<div class="label-bg"></div>
						</div>
					</div>
				</div>			
			</a><!-- 6 -->
			<a class="popup-with-zoom-anim" href="#small-dialog">
				<div class="portfolio card" data-cat="card">
					<div class="portfolio-wrapper">			
							<img src="http://i.imgur.com/NIBP3CI.jpg"  alt="Image 2" height="154" width="270" />
						<div class="label">
							<div class="label-text">
								<p class="text-title">Title</p>
							</div>
							<div class="label-bg"></div>
						</div>
					</div>
				</div>	
			</a><!-- 7 -->
			<a class="popup-with-zoom-anim" href="#small-dialog">
				<div class="portfolio card" data-cat="card">
					<div class="portfolio-wrapper">			
							<img src="http://i.imgur.com/xJLKOxC.jpg"  alt="Image 2" height="154" width="270" />
						<div class="label">
							<div class="label-text">
								<p class="text-title">Title</p>
							</div>
							<div class="label-bg"></div>
						</div>
					</div>
				</div>	
			</a> <!-- 8 -->
			<a class="popup-with-zoom-anim" href="#small-dialog">
				<div class="portfolio logo1" data-cat="logo">
					<div class="portfolio-wrapper">			
							<img src="http://i.imgur.com/y2xaRjW.jpg"  alt="Image 2" height="154" width="270" />
						<div class="label">
							<div class="label-text">
								<p class="text-title">Title</p>
							</div>
							<div class="label-bg"></div>
						</div>
					</div>
				</div>																																							
			</a> <!-- 9 -->
			<a class="popup-with-zoom-anim" href="#small-dialog">
				<div class="portfolio app" data-cat="app">
					<div class="portfolio-wrapper">			
							<img src="http://i.imgur.com/qPXNbnN.jpg"  alt="Image 2" height="154" width="270" />
						<div class="label">
							<div class="label-text">
								<p class="text-title">Title</p>
							</div>
							<div class="label-bg"></div>
						</div>
					</div>
				</div>		
			</a>
			
		</div>
            
        <script id="list-of-images" type="x/handlebars">
		<li class="list-item"><input type="checkbox" id="{id}"><input type="button" id="{id}" value="Edit">{content}</li>
	</script>
	
	<script>
		YUI().use('node', function(Y) {
			
			var ImageItem, 
			query,
			submitBtn = Y.one("#list-item-submit"),
			imageList = Y.one('#image-items'),
			input = Y.one("#image-title"),
			inputImgUrl = Y.one("#img-url"),
            inputImgTag = Y.one("#tag"),
            inputImgFolder = Y.one("#folder-list"),
            inputImgRatings = Y.one("#ratings"),
            inputImgComments = Y.one("#comments");
			
			Parse.initialize("k9fWbqwB7anOSJhUZJcIF5aDOXC5wRVQc87hGKyu", "cgwRZNr1X58BKbTv49oOhLIABJedodfAwFWHO1QY");
            
            var FolderItem = Parse.Object.extend("FolderItem");
            var folderItem = new Parse.Query(FolderItem);
            folderItem.find({
                success: function(item) {
                    for (i in item){
                        var folder = item[i];
//                        console.log(folder.get("content"));
                        var folderCategories = document.getElementById("folder-list");
                        var newFolderItem = document.createElement('option');
                        newFolderItem.innerText = folder.get("content");
                        folderCategories.appendChild(newFolderItem);
                    }
                }
            });
			
			//Handle Click Event
			submitBtn.on('click', function(e) {
				
				//Save the current Todo
				var imgTitle = Y.one('#image-title').get('value');
                var imgUrl = Y.one('#img-url').get('value');
                var imgTag = Y.one('#tag').get('value');
                var imgFolder = Y.one('#folder-list').get('value');
                var imgRatings = $('input[name^="ratings"]:checked').val();
                var imgComments = Y.one('#comments').get('value');
				var ImageItem = Parse.Object.extend("ImageItem");
				var imageItem = new ImageItem();

				imageItem.set("imgTitle", imgTitle);
				imageItem.set("imgUrl", imgUrl);
                imageItem.set("imgTag", imgTag);
                imageItem.set("imgFolder", imgFolder);
                imageItem.set("imgRatings", imgRatings);
                imageItem.set("imgComments", imgComments);
				
				//Once it is saved, show it in the list of todo's.
				imageItem.save(null, {
				  success: function(item) {
						
				    var content = Y.Lang.sub(Y.one('#list-of-images').getHTML(), {
							content: item.get('imgTitle'),
							id: item.id,
						});
						input.set('value', '').focus();
                        inputImgUrl.set('value', '');
                        inputImgTag.set('value', '');
                        inputImgFolder.set('value', '');
                        $('#imageShown').css("display", "none");
                        $('input[name=ratings]').attr('checked',false);
                        inputImgComments.set('value', '');
				  },
				}); 
			});		
		});
	</script>
	</div><!-- end container -->
	</div>
</div>
</div>
<div class="footer_bg">
<div class="wrap">
	<div class="footer">
		<div class="span_of_4">
			<div class="copy">
				<p class="link"><span>A TeaMeme Website | Class Page by&nbsp;<a href="http://classes.pint.com/cse134b"> Group 23</a></span></p>
			</div>
			<div class="clear"></div>
		</div>
	</div>
</div>
</div>
</body>
</html>